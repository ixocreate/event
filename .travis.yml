language: php
sudo: false

php:
  - "7.1"
  - "7.2"
  - "7.3"

cache:
  directories:
    - $HOME/.composer/cache

install:
  - composer install --prefer-dist --no-interaction

script:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/phpunit --coverage-clover build/logs/clover.xml; else vendor/bin/phpunit; fi
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/php-cs-fixer fix --config=vendor/ixocreate/coding-standard/.php_cs -v --dry-run --using-cache=no --path-mode=intersection `git diff --name-only --diff-filter=ACMRTUXB $TRAVIS_COMMIT_RANGE`; fi

after_success:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then php vendor/bin/php-coveralls -v; fi

notifications:
  email: false
  slack:
    secure: "iLhkHjZ9Esk66DI+e08RXJpqLvhyWFtILsI0zeTcvs4jHwCgmClXG9v6bG/kPcWxfDdQZNpQ6hSTMw5ahgcG7iL3nb7PffzO0aa8DEqQ6dOjr5BHQ3XN2Efnkb5mLyn9snn9wZkXuXfq2qMB4jwLhQkDoPF086/pbf38GGhXFc6zYkon0kOiacgGmEugaiHH16sVBG/IYtL5qrwoWkUIgDYaS1EAk9PmkuHuaC8y/vG+4eqMRuZOG8qQSXxRULXIwJy8awoDvTH6oeuvAFDLpI6EfKdQBDC2qf2pKAgKIswFQDTc8CD23c2Zateo/S8lwzV+ZkAqsaRCPXzp84614oEIDeukT5+OkPxXUbozppZX45t9DzRhT3kRrOhM39zH/TbctZA8FVBRIbsDfB4/kJxbAznlLS/NCDeswOrgMay7eI6ZtPRrjan2Xn5t+oDp+Z3LIXZ7dot7gJBk0nckZb0/g5m/S8CFRUki6I98UZzUvxNBLsGzaNjX9lNZtfQghrOWqPK5HC5AVxSHxXRcsXbv3IQ+Z9WGUvPN7WPiF4udvqZpaB0didBGk8nsdjhv+7eVV2wFgUwL9zoWYMyZvIqEjdTWYK1ygfUO5Dhx6VkFbILSO8y8cFgaAapk8zNJPqjeLJILycOvNq/07f/D42u78bLvu32mxdSWO28BWQs="
